var be=Object.defineProperty,Ae=Object.defineProperties;var Re=Object.getOwnPropertyDescriptors;var H=Object.getOwnPropertySymbols;var Ne=Object.prototype.hasOwnProperty,Ce=Object.prototype.propertyIsEnumerable;var ee=(e,t,o)=>t in e?be(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,N=(e,t)=>{for(var o in t||(t={}))Ne.call(t,o)&&ee(e,o,t[o]);if(H)for(var o of H(t))Ce.call(t,o)&&ee(e,o,t[o]);return e},te=(e,t)=>Ae(e,Re(t));import{N as X,d as b,r as I,o as d,c as m,w as u,a as $,b as p,e as l,u as f,S as ke,f as ie,T as _e,g as Se,h as De,i as q,j as de,k as oe,l as ne,s as me,z,m as K,n as Le,p as i,q as ae,t as se,$ as Fe,v as y,x as U,F as k,y as xe,A as Be,B as D,C as re,D as Pe,E as we,G as Ue,H as je,I as g,M as A,J as ze,K as Ke}from"./vendor.3a19372a.js";const Ve=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))n(a);new MutationObserver(a=>{for(const s of a)if(s.type==="childList")for(const r of s.addedNodes)r.tagName==="LINK"&&r.rel==="modulepreload"&&n(r)}).observe(document,{childList:!0,subtree:!0});function o(a){const s={};return a.integrity&&(s.integrity=a.integrity),a.referrerpolicy&&(s.referrerPolicy=a.referrerpolicy),a.crossorigin==="use-credentials"?s.credentials="include":a.crossorigin==="anonymous"?s.credentials="omit":s.credentials="same-origin",s}function n(a){if(a.ep)return;a.ep=!0;const s=o(a);fetch(a.href,s)}};Ve();X.configure({showSpinner:!1,easing:"ease",speed:1e3,trickleSpeed:200,minimum:.1});function pe(){X.start()}function fe(){X.done()}var Ze=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",start:pe,close:fe});var R=(e,t)=>{const o=e.__vccOpts||e;for(const[n,a]of t)o[n]=a;return o};const Xe={key:0,class:"custom-spin"},qe={class:"spin-container"},Ge={data(){return{spinning:!1,tip:""}},methods:{start(){console.log(4444)}}},We=b(te(N({},Ge),{setup(e,{expose:t}){const o=I(!1),n=I(null),a=I("");function s(c){if(c){const{msg:_,duration:E}=c;a.value=_||"",E&&typeof E=="number"&&n.value===null&&(n.value=setTimeout(()=>{o.value=!1,n.value=null},E))}o.value=!0}function r(){o.value=!1,n.value!==null&&(clearTimeout(n.value),n.value=null),a.value=""}return t({start:s,end:r}),(c,_)=>(d(),m(_e,{"enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"},{default:u(()=>[o.value?(d(),$("div",Xe,[p("div",qe,[l(f(ke))])])):ie("",!0)]),_:1}))}}));var Me=R(We,[["__scopeId","data-v-1cb4141a"]]),Qe={install:e=>{const t=l(Me);Se(t,document.body);const o={show(n){var a,s;(s=(a=t==null?void 0:t.component)==null?void 0:a.exposed)==null||s.start(n)},end(){var n,a;(a=(n=t==null?void 0:t.component)==null?void 0:n.exposed)==null||a.end()}};e.config.globalProperties.$spin=o}},Ye=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Qe});const ue={"./ngprogress/index.ts":Ze,"./spin/index.ts":Ye},ge=[];Object.keys(ue).forEach(e=>{const t=ue[e].default||{},o=Array.isArray(t)?[...t]:[t];ge.push(...o)});function Je(e){ge.forEach(t=>{t.install instanceof Function&&e.use(t)})}const He=De();function et(e){e.use(He)}const ve=q({id:"setting",state:()=>({language:"zh-CN"}),getters:{},actions:{setLanguage(e){this.language=e}}}),G=localStorage;function tt(e,t){G.setItem(e,t)}function ot(e){return G.getItem(e)}function nt(e){G.removeItem(e)}function at(e){tt("PACKBOX_TOKEN",e)}function st(){return ot("PACKBOX_TOKEN")}function rt(){nt("PACKBOX_TOKEN")}const W=q({id:"user",state:()=>({loginStatus:!!st(),user:{}}),getters:{},actions:{login(e,t){at(e),this.loginStatus=!0,t==null||t.push("/")},logout(e){rt(),this.loginStatus=!1,e==null||e.push("/login")}}});const ut={class:"router-container"},ct=b({setup(e){const t=de(),{t:o}=oe();ne.locale("zh-cn");const{language:n}=me(ve()),a=W(),s=oe(),r=I(z.locale);K(n,()=>{s.locale.value=n.value||"zh-CN",n.value==="en-US"?r.value=ae.locale:r.value=z.locale}),K(r,_=>{ne.locale(_)});const c=Le(()=>a.loginStatus);return K(c,_=>{_||(se.warning(o("app.logout.msg")),setTimeout(()=>{t.push("/login")},1e3)),_&&(se.success(o("app.login.success")),t.push("/"))}),(_,E)=>{const T=i("router-view"),h=i("a-config-provider");return d(),m(h,{locale:r.value==="en"?f(ae):f(z)},{default:u(()=>[p("div",ut,[l(T)])]),_:1},8,["locale"])}}}),lt="modulepreload",ce={},it="./",L=function(t,o){return!o||o.length===0?t():Promise.all(o.map(n=>{if(n=`${it}${n}`,n in ce)return;ce[n]=!0;const a=n.endsWith(".css"),s=a?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${s}`))return;const r=document.createElement("link");if(r.rel=a?"stylesheet":lt,a||(r.as="script",r.crossOrigin=""),r.href=n,document.head.appendChild(r),a)return new Promise((c,_)=>{r.addEventListener("load",c),r.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())};var _t="./assets/logo.7a9ab47f.png";const dt=q({id:"routes",state:()=>({layoutRoutes:Ee}),getters:{routes(){return this.layoutRoutes!==void 0?this.layoutRoutes:[]}}});function F(e){const{icon:t}=e;return l(Fe[t])}const he=e=>(xe("data-v-aa90f87a"),e=e(),Be(),e),mt={class:"logo"},pt=he(()=>p("img",{src:_t,alt:""},null,-1)),ft=he(()=>p("span",{class:"p-l"},"\u9996\u9875",-1)),gt=b({setup(e){const t=dt(),{routes:o}=t,n=I(!1),a=I(["1"]),s=de();function r(c){s.push(`${c}`)}return(c,_)=>{const E=i("router-link"),T=i("a-menu-item"),h=i("a-sub-menu"),Y=i("a-menu"),$e=i("a-layout-sider");return d(),m($e,{id:"components-layout-demo-side",collapsed:n.value,"onUpdate:collapsed":_[2]||(_[2]=v=>n.value=v),collapsible:"",width:"256"},{default:u(()=>[p("div",mt,[l(E,{to:"/home"},{default:u(()=>[pt,p("h1",null,y(c.$t("menu.systemName")),1)]),_:1})]),l(Y,{selectedKeys:a.value,"onUpdate:selectedKeys":_[1]||(_[1]=v=>a.value=v),theme:"dark",mode:"inline"},{default:u(()=>[l(T,{onClick:_[0]||(_[0]=v=>r("/home"))},{default:u(()=>[l(f(F),{icon:"HomeOutlined"}),ft]),_:1}),(d(!0),$(k,null,U(f(o),(v,x)=>(d(),m(h,{key:`sub_${x}`},{icon:u(()=>[v.meta.icon?(d(),m(f(F),{key:0,icon:v.meta.icon},null,8,["icon"])):ie("",!0)]),title:u(()=>[D(y(v.meta.title),1)]),default:u(()=>[(d(!0),$(k,null,U(v.children,(B,j)=>{var J;return d(),$(k,null,[((J=B.children)==null?void 0:J.length)?(d(),m(h,{key:`sub_${x}_${j}`},{title:u(()=>[D(y(B.meta.title),1)]),default:u(()=>[(d(!0),$(k,null,U(B.children,(P,Ie)=>(d(),m(T,{key:`item_${x}_${j}_${Ie}`,onClick:oo=>r(P.path)},{default:u(()=>[p("span",{class:re(P.meta.icon?"":"p-l")},y(P.meta.title),3)]),_:2},1032,["onClick"]))),128))]),_:2},1024)):(d(),m(T,{key:`item_${x}_${j}`,onClick:P=>r(v.path)},{default:u(()=>[p("span",{class:re(v.meta.icon?"":"p-l")},y(B.meta.title),3)]),_:2},1032,["onClick"]))],64)}),256))]),_:2},1024))),128))]),_:1},8,["selectedKeys"])]),_:1},8,["collapsed"])}}});var vt=R(gt,[["__scopeId","data-v-aa90f87a"]]);const ht={};function yt(e,t){const o=i("router-view");return d(),m(o,null,{default:u(({Component:n,route:a})=>[l(_e,{"enter-active-class":"animate__animated animate__lightSpeedInLeft page-toggle-enter-active","leave-active-class":`animate__animated animate__lightSpeedOutRight
      page-toggle-leave-active`},{default:u(()=>[(d(),m(Pe(n),{key:a.fullPath}))]),_:2},1024)]),_:1})}var Et=R(ht,[["render",yt],["__scopeId","data-v-9764f3d4"]]),Tt={"app.footer.copyright":"\u7248\u6743\u6240\u6709 \xA92022 dyggod","app.login.welcome":"Welcome to PackBox","app.login.submit":"\u767B\u5F55","app.logout.submit":"\u9000\u51FA\u767B\u5F55","app.login.success":"\u767B\u5F55\u6210\u529F","app.login.fail":"\u767B\u5F55\u5931\u8D25","app.logout.msg":"\u5373\u5C06\u9000\u51FA\u8D26\u53F7","menu.test":"\u83DC\u5355\u6D4B\u8BD5","menu.systemName":"\u5305\u88C5\u7BB1"},Ot={"app.footer.copyright":"Copyright \xA92022 dyggod","app.login.welcome":"Welcome to PackBox","app.login.submit":"Login","app.logout.submit":"Logout","app.login.success":"login success","app.login.fail":"login fail","app.logout.msg":"about to log out","menu.test":"MenuTest","menu.systemName":"PackBox"};const V=[{label:"\u7B80\u4F53\u4E2D\u6587",value:"zh-CN"},{label:"English",value:"en-US"}],w={zh:V[0],en:V[1]};function $t(e){const t={locale:w.zh.value,fallbackLocale:w.en.value,silentTranslationWarn:!0,messages:{[w.en.value]:Ot,[w.zh.value]:Tt}},o=we(t);e.use(o)}const It={class:"pointer"},bt={href:"javascript:;"},At=b({setup(e){const t=W();function o(){t.logout()}return(n,a)=>{const s=i("a-avatar"),r=i("a-menu-item"),c=i("a-menu"),_=i("a-dropdown");return d(),m(_,null,{overlay:u(()=>[l(c,null,{default:u(()=>[l(r,{onClick:o},{icon:u(()=>[l(f(F),{icon:"PoweroffOutlined"})]),default:u(()=>[p("a",bt,y(n.$t("app.logout.submit")),1)]),_:1})]),_:1})]),default:u(()=>[p("div",It,[l(s,{size:"small"},{icon:u(()=>[l(f(F),{icon:"UserOutlined"})]),_:1})])]),_:1})}}});const Rt={class:"header-right"},Nt={class:"pointer"},Ct=b({setup(e){const t=ve(),{language:o}=me(t);function n(a){t.setLanguage(a)}return(a,s)=>{const r=i("a-menu-item"),c=i("a-menu"),_=i("a-dropdown"),E=i("a-space"),T=i("a-layout-header");return d(),m(T,{style:{background:"#fff",padding:"0"},class:"layout-header"},{default:u(()=>[p("div",Rt,[l(E,{size:"large"},{default:u(()=>[p("div",null,[l(At)]),p("div",null,[l(_,{class:"lang header-item"},{overlay:u(()=>[l(c,{"selected-keys":[f(o)]},{default:u(()=>[(d(!0),$(k,null,U(f(V),h=>(d(),m(r,{key:h.value,onClick:Y=>n(h.value)},{default:u(()=>[D(y(h.value.toLowerCase()+" "+h.label),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["selected-keys"])]),default:u(()=>[p("div",Nt,[l(f(F),{icon:"GlobalOutlined"}),D(" "+y(f(o)),1)])]),_:1})])]),_:1})])]),_:1})}}});var kt=R(Ct,[["__scopeId","data-v-7aa60770"]]);const St=b({setup(e){return(t,o)=>{const n=i("a-layout-content"),a=i("a-layout-footer"),s=i("a-layout");return d(),m(s,{style:{"min-height":"100vh"}},{default:u(()=>[l(vt),l(s,{class:"layout-right"},{default:u(()=>[l(f(kt)),l(n,{style:{margin:"0 16px"},class:"router-content-container beauty-scroll"},{default:u(()=>[l(Et)]),_:1}),l(a,{style:{"text-align":"center"}},{default:u(()=>[D(y(t.$t("app.footer.copyright")),1)]),_:1})]),_:1})]),_:1})}}});var M=R(St,[["__scopeId","data-v-3ffd6d19"]]),Dt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:M});const C="css",Lt={path:`/${C}`,name:`${C}`,component:M,redirect:`/${C}/index`,meta:{title:"CSS\u6548\u679C",icon:"PieChartOutlined"},children:[{path:`/${C}/index`,name:`${C}-index`,component:()=>L(()=>import("./index.e3342a85.js"),["assets/index.e3342a85.js","assets/index.05c6307d.css","assets/vendor.3a19372a.js","assets/index.a017d0cd.js","assets/index.b8763375.css"]),meta:{title:"\u5BF9\u89D2\u7EBF"}}]};var Ft=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Lt});const xt={};function Bt(e,t){const o=i("router-view"),n=i("a-layout-content");return d(),m(n,{class:"sub-layout-content beauty-scroll"},{default:u(()=>[l(o)]),_:1})}var Pt=R(xt,[["render",Bt],["__scopeId","data-v-741701ee"]]);const O="test",wt={path:`/${O}`,name:"Test",component:M,redirect:`/${O}/index`,meta:{title:"Test pages",icon:"FileOutlined"},children:[{path:`/${O}/index`,name:`${O}-index`,component:Pt,redirect:`/${O}/index/sub`,meta:{title:"Test sub"},children:[{path:`/${O}/index/sub`,name:`${O}-index-sub`,component:()=>L(()=>import("./Test.42485cb0.js"),["assets/Test.42485cb0.js","assets/index.a017d0cd.js","assets/index.b8763375.css","assets/vendor.3a19372a.js"]),meta:{title:"Test sub sub",icon:""}}]}]};var Ut=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:wt});const le={"./modules/css.ts":Ft,"./modules/test.ts":Ut},ye=[];Object.keys(le).forEach(e=>{const t=le[e].default||{},o=Array.isArray(t)?[...t]:[t];ye.push(...o)});var Ee=[...ye];const jt={path:"/",name:"Root",redirect:"/home",meta:{title:"Root"}},Z={path:"/login",name:"Login",component:()=>L(()=>import("./index.ebed2416.js"),["assets/index.ebed2416.js","assets/index.1c562d06.css","assets/vendor.3a19372a.js"]),meta:{title:"Login pages"}},zt={path:"/home",name:"Home",component:()=>L(()=>Promise.resolve().then(function(){return Dt}),void 0),redirect:"/home/index",children:[{path:"/home/index",name:"HomeIndex",component:()=>L(()=>import("./index.fb9dbcb2.js"),["assets/index.fb9dbcb2.js","assets/index.a017d0cd.js","assets/index.b8763375.css","assets/vendor.3a19372a.js"]),meta:{}}],meta:{title:"Layout pages"}},Kt={names:["404"],paths:["/login","*"],includes(e){return this.paths.includes(e.path)}},Vt=[Z,jt,zt,...Ee];function Zt(){return W().loginStatus}function Xt(e){e.beforeEach(pe),e.beforeEach(async(t,o,n)=>{Zt()===!1?Kt.includes(t)?n():n(Z.path):t.path!==Z.path?n():n(o.path)}),e.afterEach(fe),e.onError(t=>{throw new Error(`\u8DEF\u7531\u9519\u8BEF\uFF1A${t}`)})}const Te=Ue({history:je(),routes:Vt,strict:!0,scrollBehavior:()=>({left:0,top:0})});Xt(Te);function qt(e){e.use(Te)}g.defaults.baseURL=String("127.0.0.1:3001");g.defaults.withCredentials=!0;g.defaults.timeout=5e3;var Oe=(e=>(e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e))(Oe||{}),Gt=(e=>(e.GET="get",e.POST="post",e.PUT="put",e.DELETE="delete",e.PATCH="patch",e.BATCHDELETE="patchdelete",e.HEAD="head",e.OPTIONS="options",e.TRACE="trace",e.CONNECT="connect",e))(Gt||{}),S=(e=>(e[e.SUCCESS=200]="SUCCESS",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.AUTHORIZATION_EXPIRED=40101]="AUTHORIZATION_EXPIRED",e[e.AUTHORIZATION_EXPIRING=40102]="AUTHORIZATION_EXPIRING",e))(S||{});async function so(e,t,o,n){switch(t){case"get":return g.get(e,N({params:o},n));case"post":return g.post(e,o,n);case"put":return g.put(e,o,n);case"patch":return g.patch(e,o,n);case"delete":return g.delete(e,o);case"patchdelete":return g(N({method:"delete",url:e,data:o},n));default:return g.get(e,N({params:o},n))}}function Wt(e,t){const{reqInterceptors:o,resInterceptors:n}=e;o.forEach(a=>{let{onFulfilled:s,onRejected:r}=a;(!s||typeof s!="function")&&(s=c=>c),(!r||typeof r!="function")&&(r=c=>Promise.reject(c)),g.interceptors.request.use(c=>s(c,t),c=>r(c,t))}),n.forEach(a=>{let{onFulfilled:s,onRejected:r}=a;(!s||typeof s!="function")&&(s=c=>c),(!r||typeof r!="function")&&(r=c=>Promise.reject(c)),g.interceptors.response.use(c=>s(c,t),c=>r(c,t))})}const Mt={onFulfilled(e,t){return e},onRejected(e,t){const{message:o}=t;return o.error(e.message),Promise.reject(e)}},Qt={onFulfilled(e,t){const{message:o}=t;return e.status!==Oe.OK&&o.error("\u8BF7\u6C42\u9519\u8BEF"),e.data.code===S.AUTHORIZATION_EXPIRED&&(o.error("\u767B\u5F55\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"),window.location.reload()),e.data.code===S.AUTHORIZATION_EXPIRED,e.data.code===S.UNAUTHORIZED&&o.error("\u64CD\u4F5C\u6743\u9650\u4E0D\u8DB3"),e.data},onRejected(e,t){const{message:o}=t;return o.error(`\u54CD\u5E94\u51FA\u9519\uFF1A${e.message}`),Promise.reject(e)}};var Yt={reqInterceptors:[Mt],resInterceptors:[Qt]};function Q(e={},t=S.SUCCESS,o="\u6210\u529F"){return{code:t,msg:o,data:e}}const Jt=A.mock({token:"@string(10, 20)"}),Ht=A.mock({id:"@string(20, 30)",username:"@string(2, 5)",nickName:"@string(2, 5)",roleName:"\u7BA1\u7406\u5458",createTime:"@datetime()"}),eo=["system:view","dashboard:view"];A.mock("127.0.0.1:3001/auth/login","post",()=>Q(Jt));A.mock("127.0.0.1:3001/auth/logout","get",()=>{Q()});A.mock("127.0.0.1:3001/users/current/info","get",()=>Q({permissions:eo,user:Ht}));A.setup({timeout:"200-400"});function to(){const e=ze(ct);qt(e),et(e),e.use(Ke),$t(e),Je(e),Wt(Yt,{message:e.config.globalProperties.$message}),e.mount("#app")}to();export{Gt as H,S as R,R as _,so as r,W as u};
