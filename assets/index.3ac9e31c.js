var Oe=Object.defineProperty,$e=Object.defineProperties;var Ie=Object.getOwnPropertyDescriptors;var M=Object.getOwnPropertySymbols;var be=Object.prototype.hasOwnProperty,Ae=Object.prototype.propertyIsEnumerable;var H=(e,t,o)=>t in e?Oe(e,t,{enumerable:!0,configurable:!0,writable:!0,value:o}):e[t]=o,C=(e,t)=>{for(var o in t||(t={}))be.call(t,o)&&H(e,o,t[o]);if(M)for(var o of M(t))Ae.call(t,o)&&H(e,o,t[o]);return e},ee=(e,t)=>$e(e,Ie(t));import{d as b,r as I,o as d,c as m,w as r,a as $,b as p,e as l,u as f,S as Re,f as le,T as ie,g as Ce,h as Ne,i as X,j as _e,k as te,l as oe,s as de,z,m as K,n as ke,p as i,q as ne,t as se,$ as De,v as E,x as w,F as k,y as Le,A as Se,B as L,C as ae,D as xe,E as Pe,G as Fe,H as Be,I as v,M as A,J as we,K as Ue}from"./vendor.c613b583.js";const je=function(){const t=document.createElement("link").relList;if(t&&t.supports&&t.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))n(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const u of a.addedNodes)u.tagName==="LINK"&&u.rel==="modulepreload"&&n(u)}).observe(document,{childList:!0,subtree:!0});function o(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerpolicy&&(a.referrerPolicy=s.referrerpolicy),s.crossorigin==="use-credentials"?a.credentials="include":s.crossorigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function n(s){if(s.ep)return;s.ep=!0;const a=o(s);fetch(s.href,a)}};je();var R=(e,t)=>{const o=e.__vccOpts||e;for(const[n,s]of t)o[n]=s;return o};const ze={key:0,class:"custom-spin"},Ke={class:"spin-container"},Ve={data(){return{spinning:!1,tip:""}},methods:{start(){console.log(4444)}}},Ze=b(ee(C({},Ve),{setup(e,{expose:t}){const o=I(!1),n=I(null),s=I("");function a(c){if(c){const{msg:_,duration:y}=c;s.value=_||"",y&&typeof y=="number"&&n.value===null&&(n.value=setTimeout(()=>{o.value=!1,n.value=null},y))}o.value=!0}function u(){o.value=!1,n.value!==null&&(clearTimeout(n.value),n.value=null),s.value=""}return t({start:a,end:u}),(c,_)=>(d(),m(ie,{"enter-active-class":"animate__animated animate__fadeIn","leave-active-class":"animate__animated animate__fadeOut"},{default:r(()=>[o.value?(d(),$("div",ze,[p("div",Ke,[l(f(Re))])])):le("",!0)]),_:1}))}}));var Xe=R(Ze,[["__scopeId","data-v-1cb4141a"]]),qe={install:e=>{const t=l(Xe);Ce(t,document.body);const o={show(n){var s,a;(a=(s=t==null?void 0:t.component)==null?void 0:s.exposed)==null||a.start(n)},end(){var n,s;(s=(n=t==null?void 0:t.component)==null?void 0:n.exposed)==null||s.end()}};e.config.globalProperties.$spin=o}},Ge=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:qe});const ue={"./spin/index.ts":Ge},me=[];Object.keys(ue).forEach(e=>{const t=ue[e].default||{},o=Array.isArray(t)?[...t]:[t];me.push(...o)});function We(e){me.forEach(t=>{e.use(t)})}const Qe=Ne();function Ye(e){e.use(Qe)}const pe=X({id:"setting",state:()=>({language:"zh-CN"}),getters:{},actions:{setLanguage(e){this.language=e}}}),q=localStorage;function Je(e,t){q.setItem(e,t)}function Me(e){return q.getItem(e)}function He(e){q.removeItem(e)}function et(e){Je("PACKBOX_TOKEN",e)}function tt(){return Me("PACKBOX_TOKEN")}function ot(){He("PACKBOX_TOKEN")}const G=X({id:"user",state:()=>({loginStatus:!!tt(),user:{}}),getters:{},actions:{login(e,t){et(e),this.loginStatus=!0,t==null||t.push("/")},logout(e){ot(),this.loginStatus=!1,e==null||e.push("/login")}}});const nt={class:"router-container"},st=b({setup(e){const t=_e(),{t:o}=te();oe.locale("zh-cn");const{language:n}=de(pe()),s=G(),a=te(),u=I(z.locale);K(n,()=>{a.locale.value=n.value||"zh-CN",n.value==="en-US"?u.value=ne.locale:u.value=z.locale}),K(u,_=>{oe.locale(_)});const c=ke(()=>s.loginStatus);return K(c,_=>{_||(se.warning(o("app.logout.msg")),setTimeout(()=>{t.push("/login")},1e3)),_&&(se.success(o("app.login.success")),t.push("/"))}),(_,y)=>{const T=i("router-view"),h=i("a-config-provider");return d(),m(h,{locale:u.value==="en"?f(ne):f(z)},{default:r(()=>[p("div",nt,[l(T)])]),_:1},8,["locale"])}}}),at="modulepreload",re={},ut="./",S=function(t,o){return!o||o.length===0?t():Promise.all(o.map(n=>{if(n=`${ut}${n}`,n in re)return;re[n]=!0;const s=n.endsWith(".css"),a=s?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${n}"]${a}`))return;const u=document.createElement("link");if(u.rel=s?"stylesheet":at,s||(u.as="script",u.crossOrigin=""),u.href=n,document.head.appendChild(u),s)return new Promise((c,_)=>{u.addEventListener("load",c),u.addEventListener("error",()=>_(new Error(`Unable to preload CSS for ${n}`)))})})).then(()=>t())};var rt="./assets/logo.7a9ab47f.png";const ct=X({id:"routes",state:()=>({layoutRoutes:ve}),getters:{routes(){return this.layoutRoutes!==void 0?this.layoutRoutes:[]}}});function x(e){const{icon:t}=e;return l(De[t])}const fe=e=>(Le("data-v-4649992b"),e=e(),Se(),e),lt={class:"logo"},it=fe(()=>p("img",{src:rt,alt:""},null,-1)),_t=fe(()=>p("span",{class:"p-l"},"\u9996\u9875",-1)),dt=b({setup(e){const t=ct(),{routes:o}=t,n=I(!1),s=I(["1"]),a=_e();function u(c){a.push(`${c}`)}return(c,_)=>{const y=i("router-link"),T=i("a-menu-item"),h=i("a-sub-menu"),Y=i("a-menu"),Ee=i("a-layout-sider");return d(),m(Ee,{id:"components-layout-demo-side",collapsed:n.value,"onUpdate:collapsed":_[2]||(_[2]=g=>n.value=g),collapsible:"",width:"256"},{default:r(()=>[p("div",lt,[l(y,{to:"/home"},{default:r(()=>[it,p("h1",null,E(c.$t("menu.systemName")),1)]),_:1})]),l(Y,{selectedKeys:s.value,"onUpdate:selectedKeys":_[1]||(_[1]=g=>s.value=g),theme:"dark",mode:"inline"},{default:r(()=>[l(T,{onClick:_[0]||(_[0]=g=>u("/home"))},{default:r(()=>[l(f(x),{icon:"HomeOutlined"}),_t]),_:1}),(d(!0),$(k,null,w(f(o),(g,P)=>(d(),m(h,{key:`sub_${P}`},{icon:r(()=>[g.meta.icon?(d(),m(f(x),{key:0,icon:g.meta.icon},null,8,["icon"])):le("",!0)]),title:r(()=>[L(E(g.meta.title),1)]),default:r(()=>[(d(!0),$(k,null,w(g.children,(U,j)=>{var J;return d(),$(k,null,[((J=U.children)==null?void 0:J.length)?(d(),m(h,{key:`sub_${P}_${j}`},{title:r(()=>[L(E(U.meta.title),1)]),default:r(()=>[(d(!0),$(k,null,w(U.children,(F,Te)=>(d(),m(T,{key:`item_${P}_${j}_${Te}`,onClick:Ht=>u(F.path)},{default:r(()=>[p("span",{class:ae(F.meta.icon?"":"p-l")},E(F.meta.title),3)]),_:2},1032,["onClick"]))),128))]),_:2},1024)):(d(),m(T,{key:`item_${P}_${j}`,onClick:F=>u(g.path)},{default:r(()=>[p("span",{class:ae(g.meta.icon?"":"p-l")},E(g.meta.title),3)]),_:2},1032,["onClick"]))],64)}),256))]),_:2},1024))),128))]),_:1},8,["selectedKeys"])]),_:1},8,["collapsed"])}}});var mt=R(dt,[["__scopeId","data-v-4649992b"]]);const pt={};function ft(e,t){const o=i("router-view");return d(),m(o,null,{default:r(({Component:n,route:s})=>[l(ie,{"enter-active-class":"animate__animated animate__lightSpeedInLeft page-toggle-enter-active","leave-active-class":`animate__animated animate__lightSpeedOutRight
      page-toggle-leave-active`},{default:r(()=>[(d(),m(xe(n),{key:s.fullPath}))]),_:2},1024)]),_:1})}var gt=R(pt,[["render",ft],["__scopeId","data-v-9764f3d4"]]),vt={"app.login.welcome":"Welcome to PackBox","app.login.submit":"\u767B\u5F55","app.logout.submit":"\u9000\u51FA\u767B\u5F55","app.login.success":"\u767B\u5F55\u6210\u529F","app.login.fail":"\u767B\u5F55\u5931\u8D25","app.logout.msg":"\u5373\u5C06\u9000\u51FA\u8D26\u53F7","menu.test":"\u83DC\u5355\u6D4B\u8BD5","menu.systemName":"\u5305\u88C5\u7BB1"},ht={"app.login.welcome":"Welcome to PackBox","app.login.submit":"Login","app.logout.submit":"Logout","app.login.success":"login success","app.login.fail":"login fail","app.logout.msg":"about to log out","menu.test":"MenuTest","menu.systemName":"PackBox"};const V=[{label:"\u7B80\u4F53\u4E2D\u6587",value:"zh-CN"},{label:"English",value:"en-US"}],B={zh:V[0],en:V[1]};function yt(e){const t={locale:B.zh.value,fallbackLocale:B.en.value,silentTranslationWarn:!0,messages:{[B.en.value]:ht,[B.zh.value]:vt}},o=Pe(t);e.use(o)}const Et={class:"pointer"},Tt={href:"javascript:;"},Ot=b({setup(e){const t=G();function o(){t.logout()}return(n,s)=>{const a=i("a-avatar"),u=i("a-menu-item"),c=i("a-menu"),_=i("a-dropdown");return d(),m(_,null,{overlay:r(()=>[l(c,null,{default:r(()=>[l(u,{onClick:o},{icon:r(()=>[l(f(x),{icon:"PoweroffOutlined"})]),default:r(()=>[p("a",Tt,E(n.$t("app.logout.submit")),1)]),_:1})]),_:1})]),default:r(()=>[p("div",Et,[l(a,{size:"small"},{icon:r(()=>[l(f(x),{icon:"UserOutlined"})]),_:1})])]),_:1})}}});const $t={class:"header-right"},It={class:"pointer"},bt=b({setup(e){const t=pe(),{language:o}=de(t);function n(s){t.setLanguage(s)}return(s,a)=>{const u=i("a-menu-item"),c=i("a-menu"),_=i("a-dropdown"),y=i("a-space"),T=i("a-layout-header");return d(),m(T,{style:{background:"#fff",padding:"0"},class:"layout-header"},{default:r(()=>[p("div",$t,[l(y,{size:"large"},{default:r(()=>[p("div",null,[l(Ot)]),p("div",null,[l(_,{class:"lang header-item"},{overlay:r(()=>[l(c,{"selected-keys":[f(o)]},{default:r(()=>[(d(!0),$(k,null,w(f(V),h=>(d(),m(u,{key:h.value,onClick:Y=>n(h.value)},{default:r(()=>[L(E(h.value.toLowerCase()+" "+h.label),1)]),_:2},1032,["onClick"]))),128))]),_:1},8,["selected-keys"])]),default:r(()=>[p("div",It,[l(f(x),{icon:"GlobalOutlined"}),L(" "+E(f(o)),1)])]),_:1})])]),_:1})])]),_:1})}}});var At=R(bt,[["__scopeId","data-v-7aa60770"]]);const Rt=L(" PackBox \xA92022 Created by dyggod "),Ct=b({setup(e){return(t,o)=>{const n=i("a-layout-content"),s=i("a-layout-footer"),a=i("a-layout");return d(),m(a,{style:{"min-height":"100vh"}},{default:r(()=>[l(mt),l(a,{class:"layout-right"},{default:r(()=>[l(f(At)),l(n,{style:{margin:"0 16px"},class:"router-content-container beauty-scroll"},{default:r(()=>[l(gt)]),_:1}),l(s,{style:{"text-align":"center"}},{default:r(()=>[Rt]),_:1})]),_:1})]),_:1})}}});var W=R(Ct,[["__scopeId","data-v-5ef61545"]]),Nt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:W});const N="css",kt={path:`/${N}`,name:`${N}`,component:W,redirect:`/${N}/index`,children:[{path:`/${N}/index`,name:`${N}-index`,component:()=>S(()=>import("./index.f6bb5a97.js"),["assets/index.f6bb5a97.js","assets/index.1b884362.css","assets/vendor.c613b583.js","assets/index.7be50be5.js","assets/index.b8763375.css"]),meta:{}}],meta:{title:"Css pages",icon:"PieChartOutlined"}};var Dt=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:kt});const Lt={};function St(e,t){const o=i("router-view"),n=i("a-layout-content");return d(),m(n,{class:"sub-layout-content beauty-scroll"},{default:r(()=>[l(o)]),_:1})}var xt=R(Lt,[["render",St],["__scopeId","data-v-741701ee"]]);const O="test",Pt={path:`/${O}`,name:"Test",component:W,redirect:`/${O}/index`,meta:{title:"Test pages",icon:"FileOutlined"},children:[{path:`/${O}/index`,name:`${O}-index`,component:xt,redirect:`/${O}/index/sub`,meta:{title:"Test sub",icon:"PieChartOutlined"},children:[{path:`/${O}/index/sub`,name:`${O}-index-sub`,component:()=>S(()=>import("./Test.fb5a7488.js"),["assets/Test.fb5a7488.js","assets/index.7be50be5.js","assets/index.b8763375.css","assets/vendor.c613b583.js"]),meta:{title:"Test sub sub",icon:""}}]}]};var Ft=Object.freeze({__proto__:null,[Symbol.toStringTag]:"Module",default:Pt});const ce={"./modules/css.ts":Dt,"./modules/test.ts":Ft},ge=[];Object.keys(ce).forEach(e=>{const t=ce[e].default||{},o=Array.isArray(t)?[...t]:[t];ge.push(...o)});var ve=[...ge];const Bt={path:"/",name:"Root",redirect:"/home",meta:{title:"Root"}},Z={path:"/login",name:"Login",component:()=>S(()=>import("./index.c8dc9897.js"),["assets/index.c8dc9897.js","assets/index.1c562d06.css","assets/vendor.c613b583.js"]),meta:{title:"Login pages"}},wt={path:"/home",name:"Home",component:()=>S(()=>Promise.resolve().then(function(){return Nt}),void 0),redirect:"/home/index",children:[{path:"/home/index",name:"HomeIndex",component:()=>S(()=>import("./index.873e9154.js"),["assets/index.873e9154.js","assets/index.7be50be5.js","assets/index.b8763375.css","assets/vendor.c613b583.js"]),meta:{}}],meta:{title:"Layout pages"}},Ut={names:["404"],paths:["/login","*"],includes(e){return this.paths.includes(e.path)}},jt=[Z,Bt,wt,...ve];function zt(){return G().loginStatus}function Kt(e){e.beforeEach(async(t,o,n)=>{zt()===!1?Ut.includes(t)?n():n(Z.path):t.path!==Z.path?n():n(o.path)}),e.onError(t=>{throw new Error(`\u8DEF\u7531\u9519\u8BEF\uFF1A${t}`)})}const he=Fe({history:Be(),routes:jt,strict:!0,scrollBehavior:()=>({left:0,top:0})});Kt(he);function Vt(e){e.use(he)}v.defaults.baseURL=String("127.0.0.1:3001");v.defaults.withCredentials=!0;v.defaults.timeout=5e3;var ye=(e=>(e[e.OK=200]="OK",e[e.CREATED=201]="CREATED",e[e.NO_CONTENT=204]="NO_CONTENT",e[e.BAD_REQUEST=400]="BAD_REQUEST",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.FORBIDDEN=403]="FORBIDDEN",e[e.NOT_FOUND=404]="NOT_FOUND",e[e.INTERNAL_SERVER_ERROR=500]="INTERNAL_SERVER_ERROR",e[e.BAD_GATEWAY=502]="BAD_GATEWAY",e))(ye||{}),Zt=(e=>(e.GET="get",e.POST="post",e.PUT="put",e.DELETE="delete",e.PATCH="patch",e.BATCHDELETE="patchdelete",e.HEAD="head",e.OPTIONS="options",e.TRACE="trace",e.CONNECT="connect",e))(Zt||{}),D=(e=>(e[e.SUCCESS=200]="SUCCESS",e[e.UNAUTHORIZED=401]="UNAUTHORIZED",e[e.AUTHORIZATION_EXPIRED=40101]="AUTHORIZATION_EXPIRED",e[e.AUTHORIZATION_EXPIRING=40102]="AUTHORIZATION_EXPIRING",e))(D||{});async function oo(e,t,o,n){switch(t){case"get":return v.get(e,C({params:o},n));case"post":return v.post(e,o,n);case"put":return v.put(e,o,n);case"patch":return v.patch(e,o,n);case"delete":return v.delete(e,o);case"patchdelete":return v(C({method:"delete",url:e,data:o},n));default:return v.get(e,C({params:o},n))}}function Xt(e,t){const{reqInterceptors:o,resInterceptors:n}=e;o.forEach(s=>{let{onFulfilled:a,onRejected:u}=s;(!a||typeof a!="function")&&(a=c=>c),(!u||typeof u!="function")&&(u=c=>Promise.reject(c)),v.interceptors.request.use(c=>a(c,t),c=>u(c,t))}),n.forEach(s=>{let{onFulfilled:a,onRejected:u}=s;(!a||typeof a!="function")&&(a=c=>c),(!u||typeof u!="function")&&(u=c=>Promise.reject(c)),v.interceptors.response.use(c=>a(c,t),c=>u(c,t))})}const qt={onFulfilled(e,t){return e},onRejected(e,t){const{message:o}=t;return o.error(e.message),Promise.reject(e)}},Gt={onFulfilled(e,t){const{message:o}=t;return e.status!==ye.OK&&o.error("\u8BF7\u6C42\u9519\u8BEF"),e.data.code===D.AUTHORIZATION_EXPIRED&&(o.error("\u767B\u5F55\u8FC7\u671F\uFF0C\u8BF7\u91CD\u65B0\u767B\u5F55"),window.location.reload()),e.data.code===D.AUTHORIZATION_EXPIRED,e.data.code===D.UNAUTHORIZED&&o.error("\u64CD\u4F5C\u6743\u9650\u4E0D\u8DB3"),e.data},onRejected(e,t){const{message:o}=t;return o.error(`\u54CD\u5E94\u51FA\u9519\uFF1A${e.message}`),Promise.reject(e)}};var Wt={reqInterceptors:[qt],resInterceptors:[Gt]};function Q(e={},t=D.SUCCESS,o="\u6210\u529F"){return{code:t,msg:o,data:e}}const Qt=A.mock({token:"@string(10, 20)"}),Yt=A.mock({id:"@string(20, 30)",username:"@string(2, 5)",nickName:"@string(2, 5)",roleName:"\u7BA1\u7406\u5458",createTime:"@datetime()"}),Jt=["system:view","dashboard:view"];A.mock("127.0.0.1:3001/auth/login","post",()=>Q(Qt));A.mock("127.0.0.1:3001/auth/logout","get",()=>{Q()});A.mock("127.0.0.1:3001/users/current/info","get",()=>Q({permissions:Jt,user:Yt}));A.setup({timeout:"200-400"});function Mt(){const e=we(st);Vt(e),Ye(e),e.use(Ue),yt(e),We(e),Xt(Wt,{message:e.config.globalProperties.$message}),e.mount("#app")}Mt();export{Zt as H,D as R,R as _,oo as r,G as u};
