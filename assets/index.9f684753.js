import{r as y,H as b,R as B,_ as C,u as F}from"./index.ad96ae8f.js";import{d as x,j as k,O as I,p as o,o as R,a as U,b as t,v as p,e as a,w as s,u as r,C as q,y as D,A as N}from"./vendor.87370f15.js";const V={login:"/auth/login"};async function $(n,i){const e=await y(V.login,b.POST,{username:n,password:i});return e.code===B.SUCCESS?e.data:Promise.reject(e.data)}async function j(){}var z={login:$,logout:j};const E=z;const H=n=>(D("data-v-3ef94ecb"),n=n(),N(),n),M={class:"login-page"},O={class:"page-content"},P={class:"left"},T=H(()=>t("div",{class:"inner"},null,-1)),A={class:"right"},L={class:"title"},G=x({setup(n){const i=F();k();const e=I({username:"",password:""}),_={username:[{required:!0,message:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"}],password:[{required:!0,message:"\u8BF7\u8F93\u5165\u5BC6\u7801"}]};async function m(){const u=await E.login(e.username,e.password);i.login(u.token)}return(u,l)=>{const f=o("a-input"),c=o("a-form-item"),v=o("a-input-password"),g=o("a-button"),w=o("a-space"),h=o("a-form"),S=o("a-card");return R(),U("div",M,[t("div",O,[t("div",P,[t("span",null,p(u.$t("app.login.welcome")),1),T]),t("div",A,[t("div",L,p(u.$t("app.login.submit")),1),a(S,{class:"login-card",bordered:!1},{default:s(()=>[a(h,{ref:"formRef",model:r(e),"label-col":{span:8},"wrapper-col":{span:24},rules:_,onFinish:m},{default:s(()=>[a(w,{direction:"vertical",size:"large",style:{width:"100%"}},{default:s(()=>[t("div",null,[a(c,{name:"username"},{default:s(()=>[a(f,{value:r(e).username,"onUpdate:value":l[0]||(l[0]=d=>r(e).username=d),placeholder:"\u8BF7\u8F93\u5165\u7528\u6237\u540D"},null,8,["value"])]),_:1}),a(c,{name:"password"},{default:s(()=>[a(v,{value:r(e).password,"onUpdate:value":l[1]||(l[1]=d=>r(e).password=d),placeholder:"\u8BF7\u8F93\u5165\u5BC6\u7801"},null,8,["value"])]),_:1})]),a(c,null,{default:s(()=>[a(g,{type:"primary","html-type":"submit",shape:"round",size:"large"},{default:s(()=>[q(p(u.$t("app.login.submit")),1)]),_:1})]),_:1})]),_:1})]),_:1},8,["model"])]),_:1})])])])}}});var Q=C(G,[["__scopeId","data-v-3ef94ecb"]]);export{Q as default};
